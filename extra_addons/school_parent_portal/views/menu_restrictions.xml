<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!--
        Menu Restrictions for Parent Users

        IMPORTANT: Using (6, 0, [...]) to REPLACE groups entirely.
        This means ONLY users in the specified groups can see the menu.
        Parents (in group_school_parent_user) will NOT see these menus.
    -->

    <!-- ============ MENUS VISIBLE ONLY TO PARENT ============ -->

    <!-- Parent Portal (our module) - visible ONLY to School Parent group -->
    <record id="menu_school_parent_portal_root" model="ir.ui.menu">
        <field name="groups_id" eval="[(6, 0, [ref('school_parent_portal.group_school_parent_user')])]"/>
    </record>

    <!-- Parent Portal (openeducat) - visible ONLY to School Parent group -->
    <record id="openeducat_parent_app.menu_parent_app_root" model="ir.ui.menu">
        <field name="groups_id" eval="[(6, 0, [ref('school_parent_portal.group_school_parent_user')])]"/>
    </record>

    <!-- Hide Link Tracker - Admin only -->
    <!-- <record id="link_tracker.menu_link_tracker" model="ir.ui.menu">
        <field name="groups_id" eval="[(6, 0, [ref('base.group_system')])]"/>
    </record> -->

    <!-- Hide Tests menu - Admin only -->
    <record id="base.menu_tests" model="ir.ui.menu">
        <field name="groups_id" eval="[(6, 0, [ref('base.group_system')])]"/>
    </record>

    <!-- ============ MENUS HIDDEN FROM PARENT ============ -->

    <!-- Hide Discuss - Admin/Staff only -->
    <record id="mail.menu_root_discuss" model="ir.ui.menu">
        <field name="groups_id" eval="[(6, 0, [ref('base.group_system'), ref('openeducat_core.group_op_faculty'), ref('openeducat_core.group_op_back_office_admin')])]"/>
    </record>

    <!-- Hide Calendar - Admin/Staff only -->
    <record id="calendar.mail_menu_calendar" model="ir.ui.menu">
        <field name="groups_id" eval="[(6, 0, [ref('base.group_system'), ref('openeducat_core.group_op_faculty'), ref('openeducat_core.group_op_back_office_admin')])]"/>
    </record>

    <!-- Hide Contacts - Admin/Staff only -->
    <record id="contacts.menu_contacts" model="ir.ui.menu">
        <field name="groups_id" eval="[(6, 0, [ref('base.group_system'), ref('base.group_partner_manager'), ref('openeducat_core.group_op_back_office_admin')])]"/>
    </record>

    <!-- Hide Website - Admin only -->
    <record id="website.menu_website_configuration" model="ir.ui.menu">
        <field name="groups_id" eval="[(6, 0, [ref('base.group_system'), ref('website.group_website_designer')])]"/>
    </record>

    <!-- Hide Human Resources - Admin/HR only -->
    <record id="hr.menu_hr_root" model="ir.ui.menu">
        <field name="groups_id" eval="[(6, 0, [ref('base.group_system'), ref('hr.group_hr_user'), ref('hr.group_hr_manager')])]"/>
    </record>

    <!-- Hide Time Off - Admin/HR only -->
    <record id="hr_holidays.menu_hr_holidays_root" model="ir.ui.menu">
        <field name="groups_id" eval="[(6, 0, [ref('base.group_system'), ref('hr_holidays.group_hr_holidays_user'), ref('hr_holidays.group_hr_holidays_manager')])]"/>
    </record>

    <!-- Hide Settings - Admin only -->
    <record id="base.menu_administration" model="ir.ui.menu">
        <field name="groups_id" eval="[(6, 0, [ref('base.group_system')])]"/>
    </record>

    <!-- Hide Apps - Admin only -->
    <record id="base.menu_management" model="ir.ui.menu">
        <field name="groups_id" eval="[(6, 0, [ref('base.group_system')])]"/>
    </record>

    <!-- Hide SIS (OpenEduCat Core) - Faculty/Admin only -->
    <record id="openeducat_core.menu_op_school_root" model="ir.ui.menu">
        <field name="groups_id" eval="[(6, 0, [ref('openeducat_core.group_op_faculty'), ref('openeducat_core.group_op_back_office_admin')])]"/>
    </record>

    <!-- Hide Students menu - Faculty/Admin only -->
    <record id="openeducat_core.menu_op_student_root" model="ir.ui.menu">
        <field name="groups_id" eval="[(6, 0, [ref('openeducat_core.group_op_faculty'), ref('openeducat_core.group_op_back_office_admin')])]"/>
    </record>

    <!-- Hide Attendances (HR) - Admin/HR only -->
    <record id="hr_attendance.menu_hr_attendance_root" model="ir.ui.menu">
        <field name="groups_id" eval="[(6, 0, [ref('base.group_system'), ref('hr_attendance.group_hr_attendance_officer'), ref('hr_attendance.group_hr_attendance_manager')])]"/>
    </record>

    <!-- Hide other OpenEduCat menus from Parents -->
    <record id="openeducat_admission.menu_op_admission_root" model="ir.ui.menu">
        <field name="groups_id" eval="[(6, 0, [ref('openeducat_core.group_op_faculty'), ref('openeducat_core.group_op_back_office_admin')])]"/>
    </record>

    <record id="openeducat_exam.menu_op_exam_root" model="ir.ui.menu">
        <field name="groups_id" eval="[(6, 0, [ref('openeducat_core.group_op_faculty'), ref('openeducat_core.group_op_back_office_admin')])]"/>
    </record>

    <record id="openeducat_timetable.menu_op_timetable_root" model="ir.ui.menu">
        <field name="groups_id" eval="[(6, 0, [ref('openeducat_core.group_op_faculty'), ref('openeducat_core.group_op_back_office_admin')])]"/>
    </record>

    <record id="openeducat_attendance.menu_op_attendance_root" model="ir.ui.menu">
        <field name="groups_id" eval="[(6, 0, [ref('openeducat_core.group_op_faculty'), ref('openeducat_core.group_op_back_office_admin')])]"/>
    </record>

    <record id="openeducat_assignment.menu_op_assignment_root" model="ir.ui.menu">
        <field name="groups_id" eval="[(6, 0, [ref('openeducat_core.group_op_faculty'), ref('openeducat_core.group_op_back_office_admin')])]"/>
    </record>

    <record id="openeducat_library.menu_op_library_root" model="ir.ui.menu">
        <field name="groups_id" eval="[(6, 0, [ref('openeducat_core.group_op_faculty'), ref('openeducat_core.group_op_back_office_admin')])]"/>
    </record>

</odoo>
